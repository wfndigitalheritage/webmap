<!DOCTYPE html>
<html lang="en"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Web map for Syilx Digital Heritage">
<meta name="author" content="WFN Archaeology Office">


    <title>Syilx Digital Heritage at Westbank First Nation</title>


    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="/webmap/css/bootstrap.css" />

    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="/webmap/css/style.css" />
    <link rel="stylesheet" href="/webmap/css/leaflet.css" />

    <!-- loads Leaflet -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/leaflet.js"></script>
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!--<script src="js/ie-emulation-modes-warning.js"></script> -->

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!--<script src="js/ie10-viewport-bug-workaround.js"></script>-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>


      <!-- MAP -->
      <div id="map"></div>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="/webmap/js/bootstrap.min.js"></script>
    <script src="/webmap/leaflet-omnivore-master/leaflet-omnivore.js"></script>
    <script src="/webmap/js/leaflet.js"></script>
	  <script type="text/javascript"></script>


<!-- Initiates Map and pulls data from .CSV -->
<script>

var map = L.map('map').setView([49.8274,-119.6151], 7);

L.tileLayer ('https://api.mapbox.com/styles/v1/mapbox/satellite-v9/tiles/{z}/{x}/{y}?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
    maxZoom: 18,
    accessToken: 'pk.eyJ1IjoiZG5ndXB0YSIsImEiOiJja2hoODQ0YW4xOGc0MnJwNWVsM3BicGttIn0.oY6IpkC5M8ExGvx0jmNu3A'}).addTo(map);

            //enter path for .csv here
            omnivore.csv('wfn-places.csv')
             .on('ready', function(layer) {

        this.eachLayer(function(marker) {

            // Bind a popup to each icon based on the same properties
            // Adds coloumns of extra info to marker popup
            marker.bindPopup(marker.toGeoJSON().properties.timePeriod +
                marker.toGeoJSON().properties.placeName + '<br><br> ' +
                marker.toGeoJSON().properties.info + '<br><br> ' +
                marker.toGeoJSON().properties.link, {autoPanPadding: [5,55]});
        });
    })
            .addTo(map);

</script>




</body></html>
